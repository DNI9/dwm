#!/usr/bin/env bash

interface=$(ip route | awk '/^default/ { print $5 ; exit }')
[[ ! -d /sys/class/net/${interface} ]] && exit

NETSTATUS=$(cat /sys/class/net/"$interface"/operstate 2>/dev/null)
if [[ "$NETSTATUS" == "up" || "$NETSTATUS" == "unknown" ]]; then
	if [[ $(~/.local/bin/check_connectivity 2>/dev/null) == 1 ]]; then
		printf "^c#3b414d^^b#7aa2f7^ 󰤨 ^d^%s" " ^c#7aa2f7^Connected "
	else
		printf "^c#3b414d^^b#E06C75^ 󰤩 ^d^%s" " ^c#E06C75^No internet "
	fi
else
	printf "^c#3b414d^^b#E06C75^ 󰤭 ^d^%s" " ^c#E06C75^Disconnected "
fi
